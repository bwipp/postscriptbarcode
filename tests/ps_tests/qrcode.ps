%!PS

% ISO/IEC 18004:2015

/qrcode dup /uk.co.terryburton.bwipp findresource cvx def

/eq_tmpl {
    3 1 roll { 0 0 qrcode /pixs get }
    dup 3 -1 roll 1 exch put
    dup 3 -1 roll 0 exch put
    isEqual
} def


{
    (TESTING) (debugcws) qrcode
} [32 61 39 161 45 5 0 236 17 236 17 236 17 236 17 236] debugIsEqual

{
    (TESTING) (debugecc) qrcode
} [32 61 39 161 45 5 0 236 17 236 17 236 17 236 17 236 124 49 125 89 133 221 9 38 29 92] debugIsEqual

{  % K4 (点茗点茗); 7.4.6 examples 点 0x935F (^147^095) and 茗 0xE4AA (^228^170); 4 Kanji max for version 1-H (Table 7)
    (^147^095^228^170^147^095^228^170) (parse version=1 eclevel=H debugcws) qrcode
} [128 70 207 234 169 179 250 170 0] debugIsEqual

{  % B1 K9 A2 (?やややややややややAB); や 0x82E2 (^130^226); note ^226^130 (0xE282) and ^226A (0xE241) also valid Shift JIS
    (?^130^226^130^226^130^226^130^226^130^226^130^226^130^226^130^226^130^226AB) (parse version=2 eclevel=Q debugcws) qrcode
} [64 19 248 9 11 16 88 130 196 22 32 177 5 136 44 65 98 11 17 0 142 104] debugIsEqual

{  % B19 K5 (?ややややwやややや ややややや); note ^266w (0xE277) and ^266<SP> (0xE240) also valid Shift JIS
    (?^130^226^130^226^130^226^130^226w^130^226^130^226^130^226^130^226 ^130^226^130^226^130^226^130^226^130^226) (parse version=2 eclevel=L debugcws) qrcode
} [65 51 248 46 40 46 40 46 40 46 39 120 46 40 46 40 46 40 46 34 8 5 11 16 88 130 196 22 32 177 0 236 17 236] debugIsEqual


% Figures

(QR Code Symbol) (dontdraw)  % Figure 1, same
[
    1 1 1 1 1 1 1 0 0 0 0 1 1 0 1 1 1 1 1 1 1
    1 0 0 0 0 0 1 0 1 0 0 1 1 0 1 0 0 0 0 0 1
    1 0 1 1 1 0 1 0 1 1 1 0 1 0 1 0 1 1 1 0 1
    1 0 1 1 1 0 1 0 1 0 1 0 0 0 1 0 1 1 1 0 1
    1 0 1 1 1 0 1 0 0 0 0 0 1 0 1 0 1 1 1 0 1
    1 0 0 0 0 0 1 0 0 0 1 0 1 0 1 0 0 0 0 0 1
    1 1 1 1 1 1 1 0 1 0 1 0 1 0 1 1 1 1 1 1 1
    0 0 0 0 0 0 0 0 1 1 0 0 1 0 0 0 0 0 0 0 0
    1 0 0 0 0 0 1 0 1 1 1 1 0 1 1 0 0 1 1 1 0
    1 0 0 0 1 0 0 0 1 1 1 0 0 0 1 0 0 0 1 1 1
    0 1 1 1 0 1 1 1 1 0 0 1 1 0 0 1 0 0 0 1 0
    1 1 0 1 0 0 0 0 1 0 1 1 0 1 0 1 0 0 1 1 0
    0 1 1 1 1 1 1 1 1 1 1 0 0 0 1 0 1 1 0 1 1
    0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 1 0 1 1 0
    1 1 1 1 1 1 1 0 0 1 1 1 1 1 1 0 0 0 1 1 0
    1 0 0 0 0 0 1 0 0 0 1 0 0 1 1 0 1 1 1 0 0
    1 0 1 1 1 0 1 0 0 0 0 0 1 1 1 0 0 0 1 1 1
    1 0 1 1 1 0 1 0 0 1 0 0 0 0 1 0 1 0 1 0 0
    1 0 1 1 1 0 1 0 0 1 0 0 1 0 1 0 1 0 0 1 1
    1 0 0 0 0 0 1 0 0 0 0 1 1 1 0 1 1 1 1 0 0
    1 1 1 1 1 1 1 0 1 0 1 1 0 0 1 0 1 0 0 1 0
] eq_tmpl

(ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ) (dontdraw)  % Figure 29 (top), same
[
    1 1 1 1 1 1 1 0 1 1 0 0 1 1 0 0 1 0 0 1 0 0 1 0 1 0 1 1 1 1 1 1 1
    1 0 0 0 0 0 1 0 0 0 1 0 1 1 1 0 1 0 1 1 1 0 0 0 1 0 1 0 0 0 0 0 1
    1 0 1 1 1 0 1 0 0 0 0 0 0 0 1 1 0 1 1 0 1 1 0 0 0 0 1 0 1 1 1 0 1
    1 0 1 1 1 0 1 0 1 0 1 0 0 0 0 1 1 1 0 0 0 1 1 0 0 0 1 0 1 1 1 0 1
    1 0 1 1 1 0 1 0 1 1 0 1 1 0 0 0 1 1 0 1 0 0 1 0 0 0 1 0 1 1 1 0 1
    1 0 0 0 0 0 1 0 1 1 0 0 0 1 0 1 0 0 0 0 1 1 0 1 1 0 1 0 0 0 0 0 1
    1 1 1 1 1 1 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 1 1 1 1 1 1
    0 0 0 0 0 0 0 0 1 0 1 0 0 0 0 0 0 0 0 1 1 1 0 0 1 0 0 0 0 0 0 0 0
    1 0 0 0 1 0 1 1 1 1 0 0 0 0 1 1 0 0 1 0 0 0 1 1 0 1 1 1 1 1 0 0 1
    1 0 0 1 0 1 0 0 0 1 1 1 0 0 1 0 0 1 0 0 0 1 1 0 0 0 0 1 0 1 1 0 0
    0 1 0 0 0 1 1 0 0 0 1 1 1 1 1 0 1 0 1 0 1 0 0 0 0 1 1 0 1 1 0 0 1
    1 0 1 1 0 1 0 1 1 1 0 1 0 1 0 0 1 0 0 0 0 0 1 0 0 1 0 0 0 0 0 0 0
    0 0 1 1 1 1 1 1 0 0 1 1 0 1 0 1 1 0 0 1 0 0 1 1 1 0 1 0 0 1 1 0 0
    0 1 1 0 0 1 0 0 0 1 0 1 0 0 1 0 0 0 1 1 1 1 0 0 1 1 0 1 0 1 0 0 1
    1 0 1 0 0 1 1 1 1 0 0 1 1 1 1 1 0 1 0 0 1 1 1 1 0 0 0 1 1 0 1 1 1
    1 0 0 1 0 0 0 1 0 0 0 1 0 0 0 1 1 1 1 0 0 1 0 1 1 1 1 1 0 0 0 0 0
    1 1 0 0 1 0 1 1 1 1 0 1 1 1 0 0 0 0 0 1 1 1 1 0 1 1 1 1 1 1 1 0 0
    0 1 0 0 0 0 0 1 0 1 1 1 1 0 0 0 1 0 0 0 1 0 0 0 0 1 0 0 0 0 1 1 1
    1 1 1 1 1 1 1 1 1 1 1 1 0 1 0 1 0 1 0 0 0 1 1 0 0 1 0 0 0 1 1 1 1
    0 0 1 1 0 0 0 1 0 0 0 0 0 0 0 1 1 1 1 0 0 1 0 1 0 1 0 1 0 1 1 1 0
    1 1 1 1 0 1 1 1 1 0 1 1 1 0 1 0 0 0 1 1 1 0 0 1 0 1 0 0 1 0 0 0 1
    1 0 0 1 1 0 0 0 0 1 0 1 0 0 1 0 1 0 0 1 0 1 1 1 0 0 0 1 0 0 0 0 1
    0 0 0 1 1 0 1 1 1 1 1 0 1 1 1 0 1 0 0 1 0 0 0 1 0 1 1 0 0 1 0 0 0
    0 0 1 0 1 1 0 1 0 0 1 1 1 0 1 0 0 0 0 1 1 1 1 1 0 1 1 1 0 1 1 1 1
    1 1 1 0 1 1 1 1 1 0 0 0 0 1 0 1 1 1 0 0 1 0 0 1 1 1 1 1 1 0 0 0 0
    0 0 0 0 0 0 0 0 1 1 1 0 1 1 0 0 1 1 1 1 1 1 0 0 1 0 0 0 1 0 1 0 0
    1 1 1 1 1 1 1 0 1 0 0 0 1 1 0 1 0 0 1 0 1 0 0 0 1 0 1 0 1 0 0 1 1
    1 0 0 0 0 0 1 0 0 0 0 1 0 1 0 0 1 0 0 0 1 0 1 1 1 0 0 0 1 0 0 0 0
    1 0 1 1 1 0 1 0 1 1 1 1 0 1 1 0 1 0 0 0 0 0 1 0 1 1 1 1 1 1 1 0 0
    1 0 1 1 1 0 1 0 0 0 0 0 1 1 1 0 0 0 1 1 1 1 0 0 0 0 0 0 0 0 1 0 1
    1 0 1 1 1 0 1 0 0 1 0 1 0 1 0 1 0 0 0 0 1 0 0 0 0 1 0 1 1 0 1 0 0
    1 0 0 0 0 0 1 0 0 0 1 0 1 1 0 1 1 1 0 0 0 1 1 0 1 0 1 0 0 1 0 0 1
    1 1 1 1 1 1 1 0 1 1 0 1 1 0 1 0 1 1 0 1 0 0 0 0 1 1 1 1 0 0 0 1 1
] eq_tmpl

(01234567) (dontdraw mask=3)  % Figure I.2, same with explicit mask 010 (automatic mask 000)
[
    1 1 1 1 1 1 1 0 0 1 0 1 1 0 1 1 1 1 1 1 1
    1 0 0 0 0 0 1 0 0 1 1 1 1 0 1 0 0 0 0 0 1
    1 0 1 1 1 0 1 0 1 0 0 0 0 0 1 0 1 1 1 0 1
    1 0 1 1 1 0 1 0 1 1 0 0 0 0 1 0 1 1 1 0 1
    1 0 1 1 1 0 1 0 1 0 1 1 1 0 1 0 1 1 1 0 1
    1 0 0 0 0 0 1 0 1 0 0 0 1 0 1 0 0 0 0 0 1
    1 1 1 1 1 1 1 0 1 0 1 0 1 0 1 1 1 1 1 1 1
    0 0 0 0 0 0 0 0 1 0 0 1 1 0 0 0 0 0 0 0 0
    1 0 1 1 1 1 1 0 0 1 0 0 1 0 1 1 1 1 1 0 0
    0 0 0 1 0 1 0 1 1 0 1 0 1 0 0 1 0 1 1 0 0
    0 0 1 0 0 0 1 1 0 1 0 1 0 1 0 0 1 1 1 1 1
    0 0 0 0 1 0 0 0 0 1 0 0 0 0 0 1 1 1 1 0 0
    0 0 0 1 1 1 1 1 1 0 0 1 0 1 0 0 1 0 0 0 0
    0 0 0 0 0 0 0 0 1 0 1 1 1 1 1 0 0 1 1 0 0
    1 1 1 1 1 1 1 0 0 1 1 0 1 0 1 1 0 0 0 0 0
    1 0 0 0 0 0 1 0 1 0 1 1 1 1 1 0 0 0 1 0 1
    1 0 1 1 1 0 1 0 1 0 0 0 1 0 0 1 0 1 1 0 0
    1 0 1 1 1 0 1 0 1 1 0 0 1 0 0 1 0 0 0 0 0
    1 0 1 1 1 0 1 0 1 0 1 1 0 1 0 0 1 0 1 0 0
    1 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 1 0 1 1 0
    1 1 1 1 1 1 1 0 1 1 1 1 0 1 0 0 1 0 1 0 0
] eq_tmpl
