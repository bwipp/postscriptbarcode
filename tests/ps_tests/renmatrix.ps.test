% Barcode Writer in Pure PostScript
% https://bwipp.terryburton.co.uk
%
% vim: set sw=4 sts=4 et:
%
% Copyright (c) 2004-2025 Terry Burton
%

/renmatrix dup /uk.co.terryburton.bwipp findresource cvx def

{
    0 0 moveto
    <<
        /ren /renmatrix
        /pixs [
            1
        ]
        /pixx 1
        /pixy 1
        /opt << /debugpaths true >>
    >> renmatrix
} [
    8  0 0  1 0  1 1  0 1
] debugIsEqual

{
    0 0 moveto
    <<
        /ren /renmatrix
        /pixs [
            1 1
            1 1
        ]
        /pixx 2
        /pixy 2
        /opt << /debugpaths true >>
    >> renmatrix
} [
    8  0 0  2 0  2 2  0 2
] debugIsEqual

{
    0 0 moveto
    <<
        /ren /renmatrix
        /pixs [
            1 1 1
        ]
        /pixx 3
        /pixy 1
        /opt << /debugpaths true >>
    >> renmatrix
} [
    8  0 0  3 0  3 1  0 1
] debugIsEqual

{
    0 0 moveto
    <<
        /ren /renmatrix
        /pixs [
            1
            1
            1
        ]
        /pixx 1
        /pixy 3
        /opt << /debugpaths true >>
    >> renmatrix
} [
    8  0 0  1 0  1 3  0 3
] debugIsEqual

{
    0 0 moveto
    <<
        /ren /renmatrix
        /pixs [
            1 0
            0 1
        ]
        /pixx 2
        /pixy 2
        /opt << /debugpaths true >>
    >> renmatrix
} [
    8  0 0  1 0  1 1  0 1
    8  1 1  2 1  2 2  1 2
] debugIsEqual

{
    0 0 moveto
    <<
        /ren /renmatrix
        /pixs [
            1 1 1
            1 0 1
            1 1 1
        ]
        /pixx 3
        /pixy 3
        /opt << /debugpaths true >>
    >> renmatrix
} [
    8  0 0  3 0  3 3  0 3
    8  1 1  1 2  2 2  2 1
] debugIsEqual

{
    0 0 moveto
    <<
        /ren /renmatrix
        /pixs [
            1 1 1 1 1 1 1 1 1
            1 0 0 0 0 0 0 0 1
            1 0 1 1 1 1 1 0 1
            1 0 1 0 0 0 1 0 1
            1 0 1 0 1 0 1 0 1
            1 0 1 0 0 0 1 0 1
            1 0 1 1 1 1 1 0 1
            1 0 0 0 0 0 0 0 1
            1 1 1 1 1 1 1 1 1
        ]
        /pixx 9
        /pixy 9
        /opt << /debugpaths true >>
    >> renmatrix
} [
    8  0 0  9 0  9 9  0 9
    8  1 1  1 8  8 8  8 1
    8  2 2  7 2  7 7  2 7
    8  3 3  3 6  6 6  6 3
    8  4 4  5 4  5 5  4 5
] debugIsEqual

{
    0 0 moveto
    <<
        /ren /renmatrix
        /pixs [
            0 0 0 0 0 0 0 0 0
            0 1 0 1 0 1 0 1 0
            0 0 1 0 1 0 1 0 0
            0 1 0 1 0 1 0 1 0
            0 0 1 0 1 0 1 0 0
            0 1 0 1 0 1 0 1 0
            0 0 1 0 1 0 1 0 0
            0 1 0 1 0 1 0 1 0
            0 0 0 0 0 0 0 0 0
        ]
        /pixx 9
        /pixy 9
        /opt << /debugpaths true >>
    >> renmatrix
} [
    8  1 1  2 1  2 2  1 2    8  3 1  4 1  4 2  3 2    8  5 1  6 1  6 2  5 2    8  7 1  8 1  8 2  7 2
    8  2 2  3 2  3 3  2 3    8  4 2  5 2  5 3  4 3    8  6 2  7 2  7 3  6 3
    8  1 3  2 3  2 4  1 4    8  3 3  4 3  4 4  3 4    8  5 3  6 3  6 4  5 4    8  7 3  8 3  8 4  7 4
    8  2 4  3 4  3 5  2 5    8  4 4  5 4  5 5  4 5    8  6 4  7 4  7 5  6 5
    8  1 5  2 5  2 6  1 6    8  3 5  4 5  4 6  3 6    8  5 5  6 5  6 6  5 6    8  7 5  8 5  8 6  7 6
    8  2 6  3 6  3 7  2 7    8  4 6  5 6  5 7  4 7    8  6 6  7 6  7 7  6 7
    8  1 7  2 7  2 8  1 8    8  3 7  4 7  4 8  3 8    8  5 7  6 7  6 8  5 8    8  7 7  8 7  8 8  7 8
] debugIsEqual

{
    0 0 moveto
    <<
        /ren /renmatrix
        /pixs [
            1 1 1 1 1 1 1 1 1
            1 1 0 1 0 1 0 1 1
            1 0 1 0 1 0 1 0 1
            1 1 0 1 0 1 0 1 1
            1 0 1 0 1 0 1 0 1
            1 1 0 1 0 1 0 1 1
            1 0 1 0 1 0 1 0 1
            1 1 0 1 0 1 0 1 1
            1 1 1 1 1 1 1 1 1
        ]
        /pixx 9
        /pixy 9
        /opt << /debugpaths true >>
    >> renmatrix
} [
    8   0 0  9 0  9 9  0 9
    88  2 1  2 2  1 2  1 3  2 3  2 4  1 4  1 5  2 5  2 6  1 6  1 7  2 7  2 8
        3 8  3 7  4 7  4 8  5 8  5 7  6 7  6 8  7 8  7 7  8 7  8 6  7 6  7 5
        8 5  8 4  7 4  7 3  8 3  8 2  7 2  7 1  6 1  6 2  5 2  5 1  4 1  4 2  3 2  3 1
    8   2 2  3 2  3 3  2 3
    8   4 2  5 2  5 3  4 3
    8   6 2  7 2  7 3  6 3
    8   3 3  4 3  4 4  3 4
    8   5 3  6 3  6 4  5 4
    8   2 4  3 4  3 5  2 5
    8   4 4  5 4  5 5  4 5
    8   6 4  7 4  7 5  6 5
    8   3 5  4 5  4 6  3 6
    8   5 5  6 5  6 6  5 6
    8   2 6  3 6  3 7  2 7
    8   4 6  5 6  5 7  4 7
    8   6 6  7 6  7 7  6 7
] debugIsEqual

{
    0 0 moveto
    <<
        /ren /renmatrix
        /pixs [
            0 0 0 0 0 0 0 0 0
            0 1 1 1 0 1 1 1 0
            0 1 0 1 0 1 0 1 0
            0 1 0 1 1 1 0 1 0
            0 1 0 0 0 0 0 1 0
            0 1 1 1 0 1 1 1 0
            0 0 0 1 0 1 0 0 0
            0 1 1 1 0 1 1 1 0
            0 0 0 0 0 0 0 0 0
        ]
        /pixx 9
        /pixy 9
        /opt << /debugpaths true >>
    >> renmatrix
} [
    56  1 1  4 1  4 3  5 3  5 1  8 1  8 6  6 6  6 7  8 7  8 8  5 8  5 5  7 5
        7 2  6 2  6 4  3 4  3 2  2 2  2 5  4 5  4 8  1 8  1 7  3 7  3 6  1 6
] debugIsEqual

{
    0 0 moveto
    <<
        /ren /renmatrix
        /pixs [
            1 1 1 1 1 1 1 1 1
            1 0 0 0 1 0 0 0 1
            1 0 1 0 1 0 1 0 1
            1 0 1 0 0 0 1 0 1
            1 0 1 1 1 1 1 0 1
            1 0 0 0 1 0 0 0 1
            1 1 1 0 1 0 1 1 1
            1 0 0 0 1 0 0 0 1
            1 1 1 1 1 1 1 1 1
        ]
        /pixx 9
        /pixy 9
        /opt << /debugpaths true >>
    >> renmatrix
} [
    8   0 0  9 0  9 9  0 9
    56  1 1  1 6  3 6  3 7  1 7  1 8  4 8  4 5  2 5  2 2  3 2  3 4  6 4  6 2
        7 2  7 5  5 5  5 8  8 8  8 7  6 7  6 6  8 6  8 1  5 1  5 3  4 3  4 1
] debugIsEqual

{
    0 0 moveto
    <<
        /ren /renmatrix
        /pixs [
            1 1 1 1 1 1 1 0 0 0 1 1 0 0 1 1 1 1 1 1 1
            1 0 0 0 0 0 1 0 1 0 0 0 1 0 1 0 0 0 0 0 1
            1 0 1 1 1 0 1 0 0 0 1 1 1 0 1 0 1 1 1 0 1
            1 0 1 1 1 0 1 0 0 0 1 1 0 0 1 0 1 1 1 0 1
            1 0 1 1 1 0 1 0 0 1 0 0 1 0 1 0 1 1 1 0 1
            1 0 0 0 0 0 1 0 1 0 0 0 1 0 1 0 0 0 0 0 1
            1 1 1 1 1 1 1 0 1 0 1 0 1 0 1 1 1 1 1 1 1
            0 0 0 0 0 0 0 0 1 1 1 1 0 0 0 0 0 0 0 0 0
            0 0 0 0 1 1 1 1 0 0 0 0 0 0 1 1 0 0 0 1 0
            0 1 1 1 0 0 0 1 1 0 0 0 1 0 0 1 0 1 0 1 1
            0 0 1 0 0 1 1 0 0 1 0 1 1 0 1 1 1 1 1 0 0
            1 0 0 1 1 1 0 1 0 1 1 0 0 1 0 0 1 0 1 0 0
            0 1 0 1 0 0 1 1 0 1 1 0 1 0 0 0 0 0 1 0 1
            0 0 0 0 0 0 0 0 1 0 0 1 1 0 0 0 0 0 1 0 1
            1 1 1 1 1 1 1 0 1 1 0 0 1 0 1 0 0 0 0 0 1
            1 0 0 0 0 0 1 0 1 0 0 1 0 0 1 1 0 1 0 0 0
            1 0 1 1 1 0 1 0 1 1 0 0 0 0 0 1 1 1 1 1 1
            1 0 1 1 1 0 1 0 0 0 1 1 1 0 0 1 0 1 0 1 1
            1 0 1 1 1 0 1 0 0 1 1 0 0 0 0 1 1 1 1 0 0
            1 0 0 0 0 0 1 0 0 1 0 1 1 0 0 0 1 0 1 0 1
            1 1 1 1 1 1 1 0 0 1 1 0 1 1 1 0 0 0 1 1 1
        ]
        /pixx 21
        /pixy 21
        /opt << /debugpaths true >>
    >> renmatrix
} [
    8    0 0   7 0   7 7   0 7
    8   10 0  12 0  12 1  10 1
    8   14 0  21 0  21 7  14 7
    8    1 1   1 6   6 6   6 1
    8    8 1   9 1   9 2   8 2
    16  12 1  13 1  13 3  12 3  12 4  10 4  10 2  12 2
    8   15 1  15 6  20 6  20 1
    8    2 2   5 2   5 5   2 5
    8   16 2  19 2  19 5  16 5
    8    9 4  10 4  10 5   9 5
    8   12 4  13 4  13 7  12 7
    20   8 5   9 5   9 7  10 7  10 6  11 6  11 7  12 7  12 8   8 8
    16   4 8   8 8   8 9   9 9   9 10  7 10  7 9   4 9
    40  14 8  16 8  16 10 17 10 17 9  18 9  18 10 19 10 19 14 18 14
        18 11 17 11 17 12 16 12 16 11 14 11 14 10 15 10 15 9  14 9
    12  19 8  20 8  20 9  21 9  21 10 19 10
    16   1 9   4 9   4 10  3 10  3 11  2 11  2 10  1 10
    12  12 9  13 9  13 11 11 11 11 10 12 10
    20   5 10  7 10  7 11  6 11  6 12  4 12  4 13  3 13  3 11  5 11
    12   9 10 10 10 10 11 11 11 11 13  9 13
    8    0 11  1 11  1 12  0 12
    12   7 11  8 11  8 13  6 13  6 12  7 12
    8   13 11 14 11 14 12 13 12
    8    1 12  2 12  2 13  1 13
    16  12 12 13 12 13 15 12 15 12 14 11 14 11 13 12 13
    8   20 12 21 12 21 15 20 15
    20   8 13  9 13  9 14 10 14 10 15  9 15  9 16 10 16 10 17  8 17
    8    0 14  7 14  7 21  0 21
    60  14 14 15 14 15 15 16 15 16 16 17 16 17 15 18 15 18 16 21 16
        21 18 19 18 19 17 18 17 18 18 19 18 19 20 20 20 20 19 21 19
        21 21 18 21 18 19 17 19 17 20 16 20 16 19 15 19 15 16 14 16
    8    1 15  1 20  6 20  6 15
    8   11 15 12 15 12 16 11 16
    8    2 16  5 16  5 19  2 19
    24  10 17 13 17 13 18 11 18 11 19 10 19 10 20 11 20 11 21  9 21  9 18 10 18
    8   16 17 16 18 17 18 17 17
    16  11 19 13 19 13 20 15 20 15 21 12 21 12 20 11 20
] debugIsEqual

